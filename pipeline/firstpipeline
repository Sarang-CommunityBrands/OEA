"{\r\n\t\"name\": \"import_from_xporter\",\r\n\t\"properties\": {\r\n\t\t\"activities\": [\r\n\t\t\t{\r\n\t\t\t\t\"name\": \"Get Data From Xporter Endpoints\",\r\n\t\t\t\t\"type\": \"ForEach\",\r\n\t\t\t\t\"dependsOn\": [],\r\n\t\t\t\t\"userProperties\": [],\r\n\t\t\t\t\"typeProperties\": {\r\n\t\t\t\t\t\"items\": {\r\n\t\t\t\t\t\t\"value\": \"@createArray(\\n    json(concat('{ \\\"endpoint\\\": \\\"SchoolInfo\\\", \\\"query\\\": \\\"?httpStatusCodes=true\\\" }')), \\n    json(concat('{ \\\"endpoint\\\": \\\"Students\\\", \\\"query\\\": \\\"?options=includeAttMarkString%2CincludeLeavers%2CincludeSubsidiary&httpStatusCodes=true\\\" }')),\\n    json(concat('{ \\\"endpoint\\\": \\\"HistoricalAttendanceSummary\\\", \\\"query\\\": \\\"?SchoolYear=2022&httpStatusCodes=true\\\" }')),\\n    json(concat('{ \\\"endpoint\\\": \\\"groups\\\", \\\"query\\\": \\\"?options=includeStudentMembers\\\" }')),\\n    json(concat('{ \\\"endpoint\\\": \\\"staff\\\", \\\"query\\\": \\\"\\\" }')),\\n    json(concat('{ \\\"endpoint\\\": \\\"AttendanceSummary\\\", \\\"query\\\":\\\"\\\"}'))\\n    )\",\r\n\t\t\t\t\t\t\"type\": \"Expression\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"activities\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"name\": \"Copy Data From Xporter\",\r\n\t\t\t\t\t\t\t\"type\": \"Copy\",\r\n\t\t\t\t\t\t\t\"dependsOn\": [],\r\n\t\t\t\t\t\t\t\"policy\": {\r\n\t\t\t\t\t\t\t\t\"timeout\": \"7.00:00:00\",\r\n\t\t\t\t\t\t\t\t\"retry\": 0,\r\n\t\t\t\t\t\t\t\t\"retryIntervalInSeconds\": 30,\r\n\t\t\t\t\t\t\t\t\"secureOutput\": false,\r\n\t\t\t\t\t\t\t\t\"secureInput\": false\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\"userProperties\": [],\r\n\t\t\t\t\t\t\t\"typeProperties\": {\r\n\t\t\t\t\t\t\t\t\"source\": {\r\n\t\t\t\t\t\t\t\t\t\"type\": \"BinarySource\",\r\n\t\t\t\t\t\t\t\t\t\"storeSettings\": {\r\n\t\t\t\t\t\t\t\t\t\t\"type\": \"HttpReadSettings\",\r\n\t\t\t\t\t\t\t\t\t\t\"requestMethod\": \"GET\",\r\n\t\t\t\t\t\t\t\t\t\t\"additionalHeaders\": {\r\n\t\t\t\t\t\t\t\t\t\t\t\"value\": \"@{concat('Authorization: Idaas ', pipeline().parameters.token)}\",\r\n\t\t\t\t\t\t\t\t\t\t\t\"type\": \"Expression\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\"requestTimeout\": \"\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\"formatSettings\": {\r\n\t\t\t\t\t\t\t\t\t\t\"type\": \"BinaryReadSettings\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\"sink\": {\r\n\t\t\t\t\t\t\t\t\t\"type\": \"BinarySink\",\r\n\t\t\t\t\t\t\t\t\t\"storeSettings\": {\r\n\t\t\t\t\t\t\t\t\t\t\"type\": \"AzureBlobFSWriteSettings\"\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\"enableStaging\": false\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\"inputs\": [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"referenceName\": \"DS_HTTP_binary\",\r\n\t\t\t\t\t\t\t\t\t\"type\": \"DatasetReference\",\r\n\t\t\t\t\t\t\t\t\t\"parameters\": {\r\n\t\t\t\t\t\t\t\t\t\t\"URL\": {\r\n\t\t\t\t\t\t\t\t\t\t\t\"value\": \"@concat('https://xporter.groupcall.com/api/v1/School/', pipeline().parameters.estab, '/', item().endpoint, item().query)\",\r\n\t\t\t\t\t\t\t\t\t\t\t\"type\": \"Expression\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\"outputs\": [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"referenceName\": \"DS_ADLS_binary_file\",\r\n\t\t\t\t\t\t\t\t\t\"type\": \"DatasetReference\",\r\n\t\t\t\t\t\t\t\t\t\"parameters\": {\r\n\t\t\t\t\t\t\t\t\t\t\"filesystem\": \"stage1np\",\r\n\t\t\t\t\t\t\t\t\t\t\"filename\": {\r\n\t\t\t\t\t\t\t\t\t\t\t\"value\": \"@concat('xporter/', pipeline().parameters.estab, '/', item().endpoint,'.json')\",\r\n\t\t\t\t\t\t\t\t\t\t\t\"type\": \"Expression\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\t\"parameters\": {\r\n\t\t\t\"estab\": {\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t},\r\n\t\t\t\"token\": {\r\n\t\t\t\t\"type\": \"string\"\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"folder\": {\r\n\t\t\t\"name\": \"Xporter Module/Extract\"\r\n\t\t},\r\n\t\t\"annotations\": [],\r\n\t\t\"lastPublishTime\": \"2022-12-06T10:55:29Z\"\r\n\t},\r\n\t\"type\": \"Microsoft.Synapse/workspaces/pipelines\"\r\n}"
